<p align="center">
  <strong>TRÆ¯á»œNG Äáº I Há»ŒC BÃCH KHOA HÃ€ Ná»˜I</strong><br>
  <strong>VIá»†N CÃ”NG NGHá»† THÃ”NG TIN VÃ€ TRUYá»€N THÃ”NG</strong>
</p>

<h1 align="center">ğŸ“‹ BÃO CÃO Äá»’ ÃN BÃ€I Táº¬P Lá»šN</h1>
<h2 align="center">MÃ”N: CÃ”NG NGHá»† WEB VÃ€ Dá»ŠCH Vá»¤ TRá»°C TUYáº¾N</h2>

<p align="center">
  <strong>Äá» tÃ i: XÃ¢y dá»±ng diá»…n Ä‘Ã n trá»±c tuyáº¿n BK Forum</strong>
</p>

---

## ğŸ‘¥ ThÃ´ng tin nhÃ³m

| STT | Há» vÃ  tÃªn | MSSV | Vai trÃ² |
|-----|-----------|------|---------|
| 1 | BÃ¹i Trung HoÃ ng | 20235333 | Team Leader, Backend Developer |
| 2 | Äá»— BÃ¡ HoÃ ng | 20225190 | Frontend Developer |
| 3 | LÃª Viá»‡t HoÃ ng | 20225321 | Full-stack Developer |
| 4 | NgÃ´ Há»¯u HoÃ ng | 20225191 | Database & Deployment |

**NhÃ³m:** 12  
**Giáº£ng viÃªn hÆ°á»›ng dáº«n:** Äá»— BÃ¡ LÃ¢m  
**Repository:** https://github.com/HantheWhiteHat/Hust_Forum.git  
**Demo:** https://hust-forum.vercel.app

---

## ğŸ“Œ Má»¥c lá»¥c

1. [Giá»›i thiá»‡u](#1-giá»›i-thiá»‡u)
2. [MÃ´ táº£ bÃ i toÃ¡n vÃ  yÃªu cáº§u](#2-mÃ´-táº£-bÃ i-toÃ¡n-vÃ -yÃªu-cáº§u)
3. [NhÃ³m ngÆ°á»i dÃ¹ng vÃ  ká»‹ch báº£n sá»­ dá»¥ng](#3-nhÃ³m-ngÆ°á»i-dÃ¹ng-vÃ -ká»‹ch-báº£n-sá»­-dá»¥ng)
4. [Kiáº¿n trÃºc há»‡ thá»‘ng](#4-kiáº¿n-trÃºc-há»‡-thá»‘ng)
5. [CÃ´ng nghá»‡ sá»­ dá»¥ng](#5-cÃ´ng-nghá»‡-sá»­-dá»¥ng)
6. [Thiáº¿t káº¿ Backend vÃ  API](#6-thiáº¿t-káº¿-backend-vÃ -api)
7. [Thiáº¿t káº¿ Frontend vÃ  UI/UX](#7-thiáº¿t-káº¿-frontend-vÃ -uiux)
8. [CÆ¡ cháº¿ cáº­p nháº­t Realtime](#8-cÆ¡-cháº¿-cáº­p-nháº­t-realtime)
9. [Káº¿t quáº£ vÃ  Demo](#9-káº¿t-quáº£-vÃ -demo)
10. [Káº¿t luáº­n](#10-káº¿t-luáº­n)

---

## 1. Giá»›i thiá»‡u

### 1.1 Bá»‘i cáº£nh
Trong bá»‘i cáº£nh chuyá»ƒn Ä‘á»•i sá»‘ máº¡nh máº½, nhu cáº§u trao Ä‘á»•i thÃ´ng tin vÃ  tháº£o luáº­n trá»±c tuyáº¿n ngÃ y cÃ ng tÄƒng cao. Äáº·c biá»‡t trong mÃ´i trÆ°á»ng Ä‘áº¡i há»c, sinh viÃªn cáº§n má»™t ná»n táº£ng Ä‘á»ƒ:
- Chia sáº» kiáº¿n thá»©c há»c thuáº­t
- Äáº·t cÃ¢u há»i vÃ  nháº­n giáº£i Ä‘Ã¡p tá»« cá»™ng Ä‘á»“ng
- Káº¿t ná»‘i vá»›i cÃ¡c sinh viÃªn cÃ¹ng chuyÃªn ngÃ nh
- Tháº£o luáº­n vá» cÃ¡c chá»§ Ä‘á» Ä‘a dáº¡ng

### 1.2 Má»¥c tiÃªu Ä‘á» tÃ i
XÃ¢y dá»±ng **BK Forum** - má»™t diá»…n Ä‘Ã n trá»±c tuyáº¿n hiá»‡n Ä‘áº¡i vá»›i cÃ¡c má»¥c tiÃªu:

| Má»¥c tiÃªu | MÃ´ táº£ |
|----------|-------|
| **á»¨ng dá»¥ng kiáº¿n thá»©c** | Ãp dá»¥ng kiáº¿n thá»©c CÃ´ng nghá»‡ Web vÃ o thá»±c táº¿ |
| **Full-stack Development** | XÃ¢y dá»±ng á»©ng dá»¥ng hoÃ n chá»‰nh tá»« Frontend Ä‘áº¿n Backend |
| **Real-time Communication** | Triá»ƒn khai WebSocket cho cáº­p nháº­t thá»i gian thá»±c |
| **Production Deployment** | Triá»ƒn khai á»©ng dá»¥ng lÃªn mÃ´i trÆ°á»ng thá»±c táº¿ |

### 1.3 Pháº¡m vi dá»± Ã¡n
- **Frontend:** Single Page Application vá»›i React
- **Backend:** RESTful API vá»›i Node.js/Express
- **Database:** MongoDB vá»›i Mongoose ODM
- **Real-time:** WebSocket vá»›i Socket.io
- **Deployment:** Vercel (FE) + Render (BE) + MongoDB Atlas (DB)

---

## 2. MÃ´ táº£ bÃ i toÃ¡n vÃ  yÃªu cáº§u

### 2.1 BÃ i toÃ¡n
XÃ¢y dá»±ng má»™t há»‡ thá»‘ng diá»…n Ä‘Ã n trá»±c tuyáº¿n cho phÃ©p ngÆ°á»i dÃ¹ng:
- ÄÄƒng kÃ½ tÃ i khoáº£n vÃ  quáº£n lÃ½ há»“ sÆ¡ cÃ¡ nhÃ¢n
- Táº¡o, xem, sá»­a, xÃ³a bÃ i viáº¿t vá»›i ná»™i dung rich text vÃ  media
- BÃ¬nh luáº­n vÃ  pháº£n há»“i theo dáº¡ng cÃ¢y (nested comments)
- BÃ¬nh chá»n (upvote/downvote) bÃ i viáº¿t vÃ  bÃ¬nh luáº­n
- TÃ¬m kiáº¿m ná»™i dung vÃ  ngÆ°á»i dÃ¹ng
- Nháº­n cáº­p nháº­t thá»i gian thá»±c khi cÃ³ tÆ°Æ¡ng tÃ¡c má»›i

### 2.2 YÃªu cáº§u chá»©c nÄƒng

| STT | Module | Chá»©c nÄƒng | MÃ´ táº£ |
|-----|--------|-----------|-------|
| 1 | **Auth** | ÄÄƒng kÃ½ | Táº¡o tÃ i khoáº£n vá»›i email, username, password |
| 2 | | ÄÄƒng nháº­p | XÃ¡c thá»±c báº±ng JWT token |
| 3 | | ÄÄƒng xuáº¥t | Há»§y session phÃ­a client |
| 4 | **Post** | Táº¡o bÃ i viáº¿t | Rich text editor, upload media |
| 5 | | Xem danh sÃ¡ch | Pagination, filter, sort |
| 6 | | Xem chi tiáº¿t | Hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ ná»™i dung + comments |
| 7 | | XÃ³a bÃ i viáº¿t | Chá»‰ tÃ¡c giáº£ Ä‘Æ°á»£c xÃ³a |
| 8 | **Comment** | BÃ¬nh luáº­n | Comment trá»±c tiáº¿p vÃ o bÃ i viáº¿t |
| 9 | | Reply | Pháº£n há»“i comment khÃ¡c (nested) |
| 10 | | XÃ³a comment | Chá»‰ tÃ¡c giáº£ Ä‘Æ°á»£c xÃ³a |
| 11 | **Vote** | Upvote/Downvote | Toggle vote cho post/comment |
| 12 | **Search** | TÃ¬m kiáº¿m | TÃ¬m posts vÃ  users |
| 13 | **Profile** | Xem há»“ sÆ¡ | ThÃ´ng tin user, danh sÃ¡ch bÃ i viáº¿t |
| 14 | | Cáº­p nháº­t | Äá»•i avatar, bio |

### 2.3 YÃªu cáº§u phi chá»©c nÄƒng

| YÃªu cáº§u | TiÃªu chÃ­ |
|---------|----------|
| **Hiá»‡u nÄƒng** | Response time < 2s |
| **Báº£o máº­t** | Password hashing (bcrypt), JWT auth, CORS, Helmet |
| **Kháº£ dá»¥ng** | Uptime > 99% (vá»›i free tier) |
| **Má»Ÿ rá»™ng** | Kiáº¿n trÃºc modular, dá»… thÃªm tÃ­nh nÄƒng |
| **Responsive** | Hoáº¡t Ä‘á»™ng tá»‘t trÃªn Desktop, Tablet, Mobile |

---

## 3. NhÃ³m ngÆ°á»i dÃ¹ng vÃ  ká»‹ch báº£n sá»­ dá»¥ng

### 3.1 NhÃ³m ngÆ°á»i dÃ¹ng

| Actor | MÃ´ táº£ | Quyá»n háº¡n |
|-------|-------|-----------|
| **Guest** | KhÃ¡ch chÆ°a Ä‘Äƒng nháº­p | Xem posts, comments, tÃ¬m kiáº¿m |
| **User** | ThÃ nh viÃªn Ä‘Ã£ Ä‘Äƒng kÃ½ | Táº¥t cáº£ quyá»n Guest + Táº¡o/xÃ³a posts, comments, vote |
| **Author** | User lÃ  tÃ¡c giáº£ ná»™i dung | Quyá»n xÃ³a posts/comments cá»§a mÃ¬nh |

### 3.2 Use Case Diagram

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚             BK FORUM                     â”‚
                    â”‚                                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
    â”‚ Guest  â”‚â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”‚ View Posts  â”‚    â”‚   Search    â”‚â”€â”€â”€â”€â”€â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
         â”‚          â”‚                                          â”‚
         â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
         â–¼          â”‚  â”‚  Register   â”‚    â”‚    Login    â”‚     â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
    â”‚  User  â”‚â”€â”€â”€â”€â”€â”€â”¤                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
         â”‚          â”‚  â”‚ Create Post â”‚    â”‚   Comment   â”‚     â”‚
         â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
         â”‚          â”‚                                          â”‚
         â”‚          â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
         â”‚          â”‚  â”‚    Vote     â”‚    â”‚Edit Profile â”‚     â”‚
         â”‚          â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
         â–¼          â”‚                                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
    â”‚ Author â”‚â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”‚ Delete Own  â”‚                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Ká»‹ch báº£n sá»­ dá»¥ng chi tiáº¿t

#### Ká»‹ch báº£n 1: ÄÄƒng kÃ½ vÃ  Ä‘Äƒng nháº­p
```
1. User truy cáº­p trang Register
2. Nháº­p username, email, password
3. System validate vÃ  táº¡o account
4. Redirect Ä‘áº¿n Login
5. User nháº­p credentials
6. System xÃ¡c thá»±c vÃ  tráº£ vá» JWT token
7. Frontend lÆ°u token vÃ o localStorage
8. Redirect Ä‘áº¿n Home vá»›i tráº¡ng thÃ¡i Ä‘Ã£ Ä‘Äƒng nháº­p
```

#### Ká»‹ch báº£n 2: Táº¡o bÃ i viáº¿t má»›i
```
1. User click "Create Post"
2. Nháº­p title, chá»n category
3. Soáº¡n ná»™i dung vá»›i rich text editor
4. ChÃ¨n áº£nh/video (optional)
5. Click "Post"
6. API upload media â†’ save post â†’ emit socket event
7. Post xuáº¥t hiá»‡n trÃªn Home (real-time)
```

#### Ká»‹ch báº£n 3: Vote vÃ  Comment real-time
```
1. User A Ä‘ang xem Post X
2. User B vote/comment trÃªn Post X
3. Socket emit event "post:voted" / "comment:new"
4. User A nháº­n update ngay láº­p tá»©c (khÃ´ng cáº§n refresh)
```

---

## 4. Kiáº¿n trÃºc há»‡ thá»‘ng

### 4.1 Kiáº¿n trÃºc tá»•ng quan (3-Tier Architecture)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PRESENTATION LAYER                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    React Application                         â”‚  â”‚
â”‚  â”‚   â€¢ Single Page Application (SPA)                           â”‚  â”‚
â”‚  â”‚   â€¢ Vite Build Tool                                         â”‚  â”‚
â”‚  â”‚   â€¢ Tailwind CSS Styling                                    â”‚  â”‚
â”‚  â”‚   â€¢ Socket.io Client (Real-time)                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                     â”‚
â”‚                    HTTP REST API / WebSocket                       â”‚
â”‚                              â–¼                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       BUSINESS LAYER                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Express.js Server                          â”‚  â”‚
â”‚  â”‚   â€¢ RESTful API Endpoints                                   â”‚  â”‚
â”‚  â”‚   â€¢ JWT Authentication Middleware                           â”‚  â”‚
â”‚  â”‚   â€¢ Input Validation (express-validator)                    â”‚  â”‚
â”‚  â”‚   â€¢ Socket.io Server (Real-time events)                     â”‚  â”‚
â”‚  â”‚   â€¢ File Upload (Multer)                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                     â”‚
â”‚                       Mongoose ODM                                 â”‚
â”‚                              â–¼                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        DATA LAYER                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    MongoDB Atlas                             â”‚  â”‚
â”‚  â”‚   â€¢ Collections: users, posts, comments, votes, media       â”‚  â”‚
â”‚  â”‚   â€¢ Indexes for performance optimization                    â”‚  â”‚
â”‚  â”‚   â€¢ Cloud-hosted with automatic backups                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     VERCEL      â”‚     â”‚     RENDER      â”‚     â”‚  MONGODB ATLAS  â”‚
â”‚   (Frontend)    â”‚â”€â”€â”€â”€â–¶â”‚    (Backend)    â”‚â”€â”€â”€â”€â–¶â”‚   (Database)    â”‚
â”‚                 â”‚     â”‚                 â”‚     â”‚                 â”‚
â”‚ â€¢ React SPA     â”‚     â”‚ â€¢ Node.js API   â”‚     â”‚ â€¢ Cloud DB      â”‚
â”‚ â€¢ Static files  â”‚     â”‚ â€¢ Socket.io     â”‚     â”‚ â€¢ Auto scaling  â”‚
â”‚ â€¢ CDN global    â”‚     â”‚ â€¢ File uploads  â”‚     â”‚ â€¢ Backups       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          HTTPS / WSS
```

### 4.3 Cáº¥u trÃºc thÆ° má»¥c chi tiáº¿t

```
BK-Forum/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â””â”€â”€ db.js              # MongoDB connection
â”‚   â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”‚   â”œâ”€â”€ authController.js  # Login, Register, Me
â”‚   â”‚   â”‚   â”œâ”€â”€ postController.js  # CRUD Posts
â”‚   â”‚   â”‚   â”œâ”€â”€ commentController.js
â”‚   â”‚   â”‚   â”œâ”€â”€ voteController.js
â”‚   â”‚   â”‚   â””â”€â”€ userController.js
â”‚   â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js            # JWT verification
â”‚   â”‚   â”‚   â”œâ”€â”€ validation.js      # Input validation
â”‚   â”‚   â”‚   â””â”€â”€ errorHandler.js    # Global error handler
â”‚   â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”‚   â”œâ”€â”€ User.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Post.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Comment.js
â”‚   â”‚   â”‚   â”œâ”€â”€ Vote.js
â”‚   â”‚   â”‚   â””â”€â”€ Media.js
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â”‚   â”œâ”€â”€ posts.js
â”‚   â”‚   â”‚   â”œâ”€â”€ comments.js
â”‚   â”‚   â”‚   â”œâ”€â”€ votes.js
â”‚   â”‚   â”‚   â””â”€â”€ users.js
â”‚   â”‚   â”œâ”€â”€ app.js                 # Express configuration
â”‚   â”‚   â”œâ”€â”€ server.js              # Entry point + Socket.io
â”‚   â”‚   â””â”€â”€ socket.js              # Socket event handlers
â”‚   â”œâ”€â”€ uploads/                   # Uploaded media files
â”‚   â”œâ”€â”€ .env.example
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.js             # Axios instance
â”‚   â”‚   â”‚   â””â”€â”€ socket.js          # Socket.io client
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PostCard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CommentTree.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MediaGallery.jsx
â”‚   â”‚   â”‚   â””â”€â”€ ImageCropper.jsx
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Register.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PostDetail.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CreatePost.jsx
â”‚   â”‚   â”‚   â””â”€â”€ Profile.jsx
â”‚   â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”‚   â””â”€â”€ authContext.js     # Auth state management
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â”œâ”€â”€ main.jsx
â”‚   â”‚   â””â”€â”€ index.css
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ favico.png
â”‚   â”œâ”€â”€ vercel.json
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ render.yaml                     # Render deploy config
â”œâ”€â”€ README.md
â””â”€â”€ PROJECT_REPORT.md
```

---

## 5. CÃ´ng nghá»‡ sá»­ dá»¥ng

### 5.1 Frontend Stack

| CÃ´ng nghá»‡ | Version | Vai trÃ² |
|-----------|---------|---------|
| **React** | 18.2 | UI Library - Component-based architecture |
| **Vite** | 4.4 | Build tool - Fast HMR, optimized builds |
| **Tailwind CSS** | 3.x | Utility-first CSS framework |
| **React Router** | 6.15 | Client-side routing |
| **Axios** | 1.5 | HTTP client vá»›i interceptors |
| **Socket.io Client** | 4.8 | Real-time WebSocket client |
| **React Hook Form** | 7.45 | Form validation & handling |
| **React Hot Toast** | 2.4 | Toast notifications |
| **Lucide React** | 0.263 | Icon library |
| **React Easy Crop** | 5.5 | Image cropping |

### 5.2 Backend Stack

| CÃ´ng nghá»‡ | Version | Vai trÃ² |
|-----------|---------|---------|
| **Node.js** | 18+ | JavaScript runtime |
| **Express.js** | 4.18 | Web framework |
| **MongoDB** | 6.0 | NoSQL Database |
| **Mongoose** | 7.5 | MongoDB ODM |
| **Socket.io** | 4.8 | WebSocket server |
| **JWT** | 9.0 | Token-based authentication |
| **bcryptjs** | 2.4 | Password hashing |
| **Multer** | 2.0 | File upload middleware |
| **express-validator** | 7.0 | Input validation |
| **Helmet** | 7.0 | Security headers |
| **CORS** | 2.8 | Cross-Origin Resource Sharing |
| **express-rate-limit** | 6.10 | Rate limiting |

### 5.3 DevOps & Deployment

| Service | Má»¥c Ä‘Ã­ch | Tier |
|---------|----------|------|
| **Vercel** | Frontend hosting, CDN | Free |
| **Render** | Backend hosting | Free |
| **MongoDB Atlas** | Cloud database | Free (M0) |
| **GitHub** | Version control, CI/CD trigger | Free |

---

## 6. Thiáº¿t káº¿ Backend vÃ  API

### 6.1 Database Schema Design

#### Entity Relationship Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    USER      â”‚       â”‚     POST     â”‚       â”‚   COMMENT    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ _id          â”‚â—„â”€â”€â”€â”€â”€â”€â”‚ author       â”‚       â”‚ _id          â”‚
â”‚ username     â”‚       â”‚ _id          â”‚â—„â”€â”€â”€â”€â”€â”€â”‚ post         â”‚
â”‚ email        â”‚       â”‚ title        â”‚       â”‚ author â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”
â”‚ password     â”‚       â”‚ content      â”‚       â”‚ content      â”‚  â”‚
â”‚ avatar       â”‚       â”‚ category     â”‚       â”‚ parentCommentâ”‚â”€â”€â”¼â”€â”€â”
â”‚ bio          â”‚       â”‚ media[]      â”‚       â”‚ upvotes      â”‚  â”‚  â”‚
â”‚ createdAt    â”‚       â”‚ upvotes      â”‚       â”‚ downvotes    â”‚  â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ downvotes    â”‚       â”‚ createdAt    â”‚  â”‚  â”‚
       â–²               â”‚ views        â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
       â”‚               â”‚ createdAt    â”‚              â”‚          â”‚  â”‚
       â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
       â”‚                      â”‚                            (self)  â”‚
       â”‚                      â–¼                                    â”‚
       â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
       â”‚               â”‚    VOTE      â”‚                            â”‚
       â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                            â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ user         â”‚                            â”‚
                       â”‚ post (opt)   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ comment (opt)â”‚
                       â”‚ type         â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 API Design (RESTful)

#### Authentication APIs

```http
POST /api/auth/register
Content-Type: application/json

{
  "username": "johndoe",
  "email": "john@example.com",
  "password": "SecurePass123"
}

Response: 201 Created
{
  "token": "eyJhbGciOiJIUzI1NiIs...",
  "user": { "_id": "...", "username": "johndoe", ... }
}
```

```http
POST /api/auth/login
{
  "email": "john@example.com",
  "password": "SecurePass123"
}

Response: 200 OK
{
  "token": "eyJhbGciOiJIUzI1NiIs...",
  "user": { ... }
}
```

#### Post APIs

```http
GET /api/posts?page=1&category=technology&sort=newest&search=react

Response: 200 OK
{
  "posts": [...],
  "pagination": {
    "current": 1,
    "pages": 5,
    "total": 48,
    "hasNextPage": true,
    "hasPrevPage": false
  }
}
```

```http
POST /api/posts
Authorization: Bearer <token>
Content-Type: multipart/form-data

{
  "title": "My First Post",
  "content": "<p>Hello World</p>",
  "category": "general",
  "media": [File]
}
```

#### Vote API (Toggle mechanism)

```http
POST /api/votes
Authorization: Bearer <token>

{
  "postId": "648a...",     // OR commentId
  "type": "upvote"         // or "downvote"
}

Response: 200 OK
{
  "upvotes": 15,
  "downvotes": 3,
  "userVote": "upvote"     // or null if toggled off
}
```

### 6.3 Middleware Pipeline

```
Request
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Helmet      â”‚  Security headers
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Rate Limit    â”‚  Prevent abuse (1000 req/15min)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      CORS       â”‚  Cross-origin control
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Body Parser   â”‚  JSON/URL-encoded
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Auth Middlewareâ”‚  JWT verification (if required)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Validation    â”‚  Input validation
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Controller    â”‚  Business logic
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Error Handler   â”‚  Global error handling
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
     Response
```

---

## 7. Thiáº¿t káº¿ Frontend vÃ  UI/UX

### 7.1 Component Architecture

```
App.jsx
â”œâ”€â”€ Header.jsx (Navigation, Search, User menu)
â”‚
â”œâ”€â”€ Routes
â”‚   â”œâ”€â”€ Home.jsx
â”‚   â”‚   â”œâ”€â”€ SortButtons (New, Hot, Top)
â”‚   â”‚   â”œâ”€â”€ CategoryFilter
â”‚   â”‚   â””â”€â”€ PostCard.jsx (multiple)
â”‚   â”‚       â”œâ”€â”€ VoteSection
â”‚   â”‚       â”œâ”€â”€ PostMeta (author, time, category)
â”‚   â”‚       â””â”€â”€ MediaPreview
â”‚   â”‚
â”‚   â”œâ”€â”€ PostDetail.jsx
â”‚   â”‚   â”œâ”€â”€ VoteSection
â”‚   â”‚   â”œâ”€â”€ MediaGallery.jsx
â”‚   â”‚   â”œâ”€â”€ ContentRenderer
â”‚   â”‚   â””â”€â”€ CommentSection
â”‚   â”‚       â”œâ”€â”€ CommentForm
â”‚   â”‚       â””â”€â”€ CommentTree.jsx (recursive)
â”‚   â”‚
â”‚   â”œâ”€â”€ CreatePost.jsx
â”‚   â”‚   â”œâ”€â”€ TitleInput
â”‚   â”‚   â”œâ”€â”€ CategorySelect
â”‚   â”‚   â”œâ”€â”€ RichTextEditor
â”‚   â”‚   â””â”€â”€ MediaUploader
â”‚   â”‚
â”‚   â”œâ”€â”€ Profile.jsx
â”‚   â”‚   â”œâ”€â”€ AvatarEditor (ImageCropper.jsx)
â”‚   â”‚   â”œâ”€â”€ BioEditor
â”‚   â”‚   â””â”€â”€ UserPosts
â”‚   â”‚
â”‚   â”œâ”€â”€ Login.jsx
â”‚   â””â”€â”€ Register.jsx
â”‚
â””â”€â”€ AuthContext (Global state)
```

### 7.2 Responsive Design Strategy

#### Breakpoints (Tailwind CSS)

| Breakpoint | Min Width | Target Devices |
|------------|-----------|----------------|
| `sm` | 640px | Landscape phones |
| `md` | 768px | Tablets |
| `lg` | 1024px | Laptops |
| `xl` | 1280px | Desktops |

#### Mobile-First Approach

```jsx
// Example: Sort Buttons responsive
<div className="flex items-center gap-0.5 sm:gap-1">
  <button className="px-2 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm">
    <Icon className="w-4 h-4" />
    <span className="hidden sm:inline">New</span>  {/* Hide text on mobile */}
  </button>
</div>
```

### 7.3 UI Components Showcase

#### Header Component
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ BK Forum    [________ğŸ”]     [Create Post]  ğŸ‘¤ Username â–¼  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Post Card Component
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–²  â”‚  u/username â€¢ r/technology â€¢ 2h ago           â”‚
â”‚ 15 â”‚  Post Title Here...                           â”‚
â”‚ â–¼  â”‚  Content preview text goes here...            â”‚
â”‚    â”‚  [ğŸ’¬ 12 Comments] [ğŸ‘ 45 Views]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Comment Tree (Nested)
```
â”Œâ”€ Comment 1 by user1
â”‚  â””â”€ Reply 1.1 by user2
â”‚     â””â”€ Reply 1.1.1 by user3
â”‚  â””â”€ Reply 1.2 by user4
â””â”€ Comment 2 by user5
```

---

## 8. CÆ¡ cháº¿ cáº­p nháº­t Realtime

### 8.1 Kiáº¿n trÃºc Socket.io

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser A     â”‚         â”‚   Browser B     â”‚
â”‚ (Socket Client) â”‚         â”‚ (Socket Client) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                           â”‚
         â”‚    WebSocket Connection   â”‚
         â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Socket.io Server                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Event Router                â”‚  â”‚
â”‚  â”‚  â€¢ post:voted    â†’ broadcast to room    â”‚  â”‚
â”‚  â”‚  â€¢ comment:new   â†’ broadcast to room    â”‚  â”‚
â”‚  â”‚  â€¢ post:deleted  â†’ broadcast globally   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Room Management             â”‚  â”‚
â”‚  â”‚  â€¢ join_post     â†’ socket.join(postId) â”‚  â”‚
â”‚  â”‚  â€¢ leave_post    â†’ socket.leave(postId)â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 Socket Events

| Event | Direction | Payload | MÃ´ táº£ |
|-------|-----------|---------|-------|
| `join_post` | Client â†’ Server | `postId` | Join room Ä‘á»ƒ nháº­n updates cá»§a post |
| `leave_post` | Client â†’ Server | `postId` | Leave room khi rá»i trang |
| `post:voted` | Server â†’ Clients | `{postId, upvotes, downvotes}` | Vote count thay Ä‘á»•i |
| `post:viewed` | Server â†’ Clients | `{postId, views}` | View count tÄƒng |
| `comment:new` | Server â†’ Clients | `{postId, comment}` | Comment má»›i Ä‘Æ°á»£c táº¡o |
| `comment:voted` | Server â†’ Clients | `{commentId, upvotes, downvotes}` | Vote comment |
| `comment:deleted` | Server â†’ Clients | `{postId, commentId}` | Comment bá»‹ xÃ³a |
| `post:new` | Server â†’ All | `post` | BÃ i viáº¿t má»›i (Home page) |
| `post:deleted` | Server â†’ All | `{postId}` | BÃ i viáº¿t bá»‹ xÃ³a |

### 8.3 Implementation Details

#### Server-side (socket.js)
```javascript
const emitSocketEvent = (eventName, payload, roomName = null) => {
  const io = getIO();
  if (roomName) {
    io.to(roomName).emit(eventName, payload);  // Emit to specific room
  }
  io.emit(eventName, payload);  // Broadcast to all
};

// Example: After vote is saved
emitSocketEvent('post:voted', {
  postId: postId.toString(),
  upvotes: result.upvotes,
  downvotes: result.downvotes,
}, `post:${postId}`);
```

#### Client-side (PostDetail.jsx)
```javascript
useEffect(() => {
  const socket = getSocket();
  socket.emit('join_post', id);  // Join room when entering post

  const handlePostVoted = (payload) => {
    if (payload?.postId === id) {
      setPost(prev => ({
        ...prev,
        upvotes: payload.upvotes,
        downvotes: payload.downvotes
      }));
    }
  };

  socket.on('post:voted', handlePostVoted);

  return () => {
    socket.emit('leave_post', id);  // Leave room when exiting
    socket.off('post:voted', handlePostVoted);
  };
}, [id]);
```

### 8.4 Incremental Update Strategy

Thay vÃ¬ fetch láº¡i toÃ n bá»™ data, Ã¡p dá»¥ng **incremental updates**:

```javascript
// âŒ Old approach (expensive)
socket.on('post:voted', () => fetchPosts());

// âœ… New approach (incremental)
socket.on('post:voted', (data) => {
  setPosts(prev => prev.map(p =>
    p._id === data.postId
      ? { ...p, upvotes: data.upvotes, downvotes: data.downvotes }
      : p
  ));
});
```

---

## 9. Káº¿t quáº£ vÃ  Demo

### 9.1 Screenshots

**Trang chá»§ (Desktop)**
- Hiá»ƒn thá»‹ danh sÃ¡ch bÃ i viáº¿t
- Filter theo category
- Sort: New / Hot / Top
- Search bar trong header

**Trang bÃ i viáº¿t chi tiáº¿t**
- Vote section bÃªn trÃ¡i
- Ná»™i dung rich text vá»›i media
- Há»‡ thá»‘ng comment nested

**Responsive (Mobile)**
- Header thu gá»n
- Sort buttons chá»‰ hiá»‡n icon
- Category dropdown compact

### 9.2 Live Demo

| Platform | URL |
|----------|-----|
| **Website** | https://hust-forum.vercel.app |
| **API** | https://bk-forum-api.onrender.com/api |
| **Health Check** | https://bk-forum-api.onrender.com/api/health |

### 9.3 Thá»‘ng kÃª dá»± Ã¡n

| Metric | GiÃ¡ trá»‹ |
|--------|---------|
| Tá»•ng sá»‘ files | ~50 files |
| Lines of Code (Frontend) | ~3,500 lines |
| Lines of Code (Backend) | ~2,500 lines |
| API Endpoints | 15+ routes |
| React Components | 12 components |
| Database Collections | 5 collections |
| Socket Events | 8 events |

---

## 10. Káº¿t luáº­n

### 10.1 Káº¿t quáº£ Ä‘áº¡t Ä‘Æ°á»£c

âœ… **HoÃ n thÃ nh má»¥c tiÃªu Ä‘á» ra:**
- XÃ¢y dá»±ng á»©ng dá»¥ng web full-stack hoÃ n chá»‰nh
- Triá»ƒn khai thÃ nh cÃ´ng lÃªn mÃ´i trÆ°á»ng production
- Ãp dá»¥ng kiáº¿n thá»©c: REST API, JWT Auth, WebSocket, Responsive Design
- Äáº£m báº£o báº£o máº­t: HTTPS, password hashing, input validation

âœ… **TÃ­nh nÄƒng ná»•i báº­t:**
- Real-time updates vá»›i Socket.io
- Rich text editor vá»›i media support
- Nested comments system
- Mobile-responsive UI

### 10.2 Háº¡n cháº¿

| Háº¡n cháº¿ | Giáº£i thÃ­ch |
|---------|------------|
| Ephemeral Storage | Render free tier khÃ´ng lÆ°u files vÄ©nh viá»…n |
| Cold Start | Server máº¥t ~30s Ä‘á»ƒ "wake up" sau 15 phÃºt khÃ´ng hoáº¡t Ä‘á»™ng |
| No Admin Panel | ChÆ°a cÃ³ giao diá»‡n quáº£n trá»‹ |
| Limited SEO | SPA khÃ´ng tá»‘i Æ°u cho search engines |

### 10.3 HÆ°á»›ng phÃ¡t triá»ƒn

| TÃ­nh nÄƒng | MÃ´ táº£ |
|-----------|-------|
| **Cloud Storage** | Migrate sang Cloudinary/S3 cho media |
| **OAuth** | ÄÄƒng nháº­p báº±ng Google/GitHub |
| **Notifications** | ThÃ´ng bÃ¡o real-time |
| **Admin Dashboard** | Quáº£n lÃ½ users, posts, reports |
| **SEO Optimization** | Server-side rendering vá»›i Next.js |
| **PWA** | Progressive Web App cho mobile |

### 10.4 BÃ i há»c kinh nghiá»‡m

1. **Thiáº¿t káº¿ trÆ°á»›c, code sau** - LÃªn kiáº¿n trÃºc rÃµ rÃ ng giÃºp code nhanh hÆ¡n
2. **Real-time phá»©c táº¡p** - Cáº§n xá»­ lÃ½ race conditions, cleanup listeners
3. **Responsive quan trá»ng** - 50%+ traffic tá»« mobile
4. **Free tier cÃ³ giá»›i háº¡n** - Cáº§n plan cho production scaling

---

## ğŸ“ TÃ i liá»‡u tham kháº£o

1. React Documentation - https://react.dev
2. Express.js Guide - https://expressjs.com
3. MongoDB Manual - https://docs.mongodb.com
4. Socket.io Documentation - https://socket.io/docs
5. Tailwind CSS - https://tailwindcss.com
6. JWT Introduction - https://jwt.io/introduction
7. Vite Documentation - https://vitejs.dev

---

<p align="center">
  <strong>Â© 2024 - NhÃ³m 12 - CÃ´ng nghá»‡ Web vÃ  Dá»‹ch vá»¥ Trá»±c tuyáº¿n</strong><br>
  TrÆ°á»ng Äáº¡i há»c BÃ¡ch khoa HÃ  Ná»™i
</p>
